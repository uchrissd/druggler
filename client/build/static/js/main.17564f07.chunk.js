(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{120:function(e,t,a){},164:function(e,t,a){e.exports=a.p+"static/media/drugglerBackgroundImage.3aeb39e2.jpeg"},184:function(e,t,a){e.exports=a(353)},320:function(e,t,a){},339:function(e,t,a){},353:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(13),l=a.n(o),i=(a(120),a(17)),c=a(112),s=a.n(c),u=a(163),m=a.n(u),d=a(29),g=a(46),p=a(26),f=a(84),h=a(43),b=function(){function e(){Object(f.a)(this,e)}return Object(h.a)(e,null,[{key:"authenticateUser",value:function(e){localStorage.setItem("token",e)}},{key:"isUserAuthenticated",value:function(){return null!==localStorage.getItem("token")}},{key:"deauthenticateUser",value:function(){localStorage.removeItem("token")}},{key:"getToken",value:function(){return localStorage.getItem("token")}}]),e}(),v=a(387),E=a(381),x=a(164),y=a.n(x),w=a(21),k=function(e){Object(n.useEffect)(function(){e.toggleAuthenticateStatus()},[]);var t=Object(E.a)({signUp:{background:"linear-gradient(180deg, seagreen 100%, black 10%)",borderRadius:60,border:0,color:"white",fontWeight:"800",height:48,padding:"30px 30px",boxShadow:"3px 30px 5px 2px rgba(255, 105, 135, .8)"},login:{background:"linear-gradient(180deg, #23395d 100%, black 10%)",borderRadius:60,border:0,color:"white",fontWeight:"800",height:48,padding:"30px 30px",boxShadow:"3px 30px 5px 2px rgba(255, 105, 135, .8)"},label:{textTransform:"capitalize"},homePageButtonDiv:{backgroundColor:"black"}})();return r.a.createElement("div",{className:"container"},r.a.createElement("div",null,r.a.createElement(w.a.div,{animate:{scale:[1,1.25,1.5,1.25,1]},transition:{duration:5,ease:"easeInOut",times:[0,.25,.5,.75,1],loop:1/0,repeatDelay:0}},r.a.createElement("h1",{style:{color:"#23395d",paddingBottom:"50px"}},"Welcome to Druggler!")),r.a.createElement("h2",{style:{color:"#23395d"}},"Having trouble juggling all of your drugs?  Try Druggler!"),r.a.createElement("img",{src:y.a,style:{borderRadius:"100%",maxWidth:"250px",maxHeight:"150px",width:"50%",height:"30%"}}),r.a.createElement("hr",null),r.a.createElement("h3",{style:{color:"#23395d"}},"Don't have an account? Sign up!")),b.isUserAuthenticated()?r.a.createElement(p.CardText,{style:{fontSize:"16px",color:"green"}},"Welcome! You are logged in."):r.a.createElement("div",null,r.a.createElement(p.CardText,{style:{fontSize:"16px",color:"green"}},"You are not logged in."),r.a.createElement(p.Card,{className:"container"}),r.a.createElement(w.a.div,{animate:{scale:[1,1.25,1.5,1.25,1],rotate:[-3,3,-3,3,-3]},transition:{duration:5,ease:"easeInOut",times:[0,.25,.5,.75,1],loop:1/0,repeatDelay:0}},r.a.createElement(v.a,{classes:{root:t.login,label:t.label},size:"large",variant:"contained",component:d.b,to:"/login",style:{width:"30%"}},"Login"),r.a.createElement(v.a,{size:"large",classes:{root:t.signUp,label:t.label},variant:"contained",component:d.b,to:"/signup",style:{width:"30%"}},"Sign up"))))},T=a(90),O=function(e){var t=e.component,a=Object(T.a)(e,["component"]);return r.a.createElement(g.b,Object.assign({},a,{render:function(e){return b.isUserAuthenticated()?r.a.createElement(t,Object.assign({},e,a)):r.a.createElement(g.a,{to:{pathname:"/",state:{from:e.location}}})}}))},C=function(e){var t=e.component,a=Object(T.a)(e,["component"]);return r.a.createElement(g.b,Object.assign({},a,{render:function(e){return b.isUserAuthenticated()?r.a.createElement(g.a,{to:{pathname:"/",state:{from:e.location}}}):r.a.createElement(t,Object.assign({},e,a))}}))},j=function(e){var t=e.component,a=Object(T.a)(e,["component"]);return r.a.createElement(g.b,Object.assign({},a,{render:function(e){return r.a.createElement(t,Object.assign({},e,a))}}))},N=a(18),S=a(45),D=a(87),A=a.n(D),I=a(52),W=a.n(I),q=(a(320),function(e){var t=e.onSubmit,a=e.onChange,n=e.errors,o=e.successMessage,l=e.user;e.toggleAuthenticateStatus;return r.a.createElement(p.Card,{className:"container"},r.a.createElement("form",{action:"/",onSubmit:t},r.a.createElement("h2",{className:"card-heading"},"Login"),o&&r.a.createElement("p",{className:"success-message"},o),n.summary&&r.a.createElement("p",{className:"error-message"},n.summary),r.a.createElement("div",{className:"field-line"},r.a.createElement(W.a,{floatingLabelText:"Email",name:"email",errorText:n.email,onChange:a,value:l.email})),r.a.createElement("div",{className:"field-line"},r.a.createElement(W.a,{floatingLabelText:"Password",type:"password",name:"password",onChange:a,errorText:n.password,value:l.password})),r.a.createElement("div",{className:"button-line"},r.a.createElement(A.a,{className:"raised-button",type:"submit",label:"Log in",danger:!0})),r.a.createElement(p.CardText,null,"Don't have an account? ",r.a.createElement(d.b,{to:"/signup"},"Create one"),".")))}),z=a(33),G=a.n(z),B={login:function(e){return G.a.post("/auth/login",e)},signUp:function(e){return G.a.post("/auth/signup",e)},dashboard:function(e){return G.a.get("/api/dashboard",{headers:{Authorization:"bearer ".concat(e)}})},getDrugsConflict:function(e,t){return G.a.get("https://rxnav.nlm.nih.gov/REST/interaction/list.json?rxcuis=".concat(e),{headers:{Authorization:"bearer ".concat(t)}})},getDrugsID:function(e,t){return G.a.get("https://rxnav.nlm.nih.gov/REST/rxcui?name=".concat(e),{headers:{Authorization:"bearer ".concat(t)}})},saveDrug:function(e,t){return G.a.post("/api/drugs",e,{headers:{Authorization:"bearer ".concat(t)}})},getUser:function(e,t){return G.a.get("/api/user/"+e,{headers:{Authorization:"bearer ".concat(t)}})},saveDrugtoUser:function(e,t){return G.a.put("api/user",e,{headers:{Authorization:"bearer ".concat(t)}})},getAllUserDrugs:function(e,t){return G.a.get("api/user/drugs/"+e,{headers:{Authorization:"bearer ".concat(t)}})},removeDrug:function(e,t){return G.a.delete("api/drugs/"+e,{headers:{Authorization:"bearer ".concat(t)}})},drugTaken:function(e,t,a){return G.a.put("api/drugs/"+e,t,{headers:{Authorization:"bearer ".concat(a)}})}},F=function(e){var t=e.history,a=e.toggleAuthenticateStatus,o=Object(n.useState)({}),l=Object(i.a)(o,2),c=l[0],s=l[1],u=Object(n.useState)(""),m=Object(i.a)(u,2),d=m[0],g=m[1],p=Object(n.useState)({email:"",password:""}),f=Object(i.a)(p,2),h=f[0],v=f[1];Object(n.useEffect)(function(){var e=localStorage.getItem("successMessage"),t="";return e&&(t=e,localStorage.removeItem("successMessage")),g(t),function(){s({})}},[]);return r.a.createElement(q,{onSubmit:function(e){e.preventDefault();var n=h.email,r=h.password;B.login({email:n,password:r}).then(function(e){b.authenticateUser(e.data.token),a(),t.push("/dashboard")}).catch(function(e){var t=e.response,a=t.data.errors?t.data.errors:{};a.summary=t.data.message,s(a)})},onChange:function(e){var t=e.target,a=t.name,n=t.value;v(Object(S.a)({},h,Object(N.a)({},a,n)))},errors:c,successMessage:d,user:h})},L=function(e){var t=e.history;return Object(n.useEffect)(function(){b.deauthenticateUser(),t.push("/")},[]),r.a.createElement("div",null,r.a.createElement("p",null,"Logging out..."))},M=function(e){var t=e.onSubmit,a=e.onChange,n=e.errors,o=e.user;return r.a.createElement(p.Card,{className:"container"},r.a.createElement("form",{action:"/",onSubmit:t},r.a.createElement("h2",{className:"card-heading"},"Sign Up"),n.summary&&r.a.createElement("p",{className:"error-message"},n.summary),r.a.createElement("div",{className:"field-line"},r.a.createElement(W.a,{floatingLabelText:"Name",name:"name",errorText:n.name,onChange:a,value:o.name})),r.a.createElement("div",{className:"field-line"},r.a.createElement(W.a,{floatingLabelText:"Email",name:"email",errorText:n.email,onChange:a,value:o.email})),r.a.createElement("div",{className:"field-line"},r.a.createElement(W.a,{floatingLabelText:"Password",type:"password",name:"password",onChange:a,errorText:n.password,value:o.password})),r.a.createElement("div",{className:"button-line"},r.a.createElement(A.a,{type:"submit",label:"Create New Account",primary:!0})),r.a.createElement(p.CardText,null,"Already have an account? ",r.a.createElement(d.b,{to:"/login"},"Log in"))))},U=function(e){var t=e.history,a=Object(n.useState)({}),o=Object(i.a)(a,2),l=o[0],c=o[1],s=Object(n.useState)({email:"",name:"",password:""}),u=Object(i.a)(s,2),m=u[0],d=u[1];return r.a.createElement(M,{onSubmit:function(e){e.preventDefault();var a=m.name,n=m.email,r=m.password;B.signUp({name:a,email:n,password:r}).then(function(e){localStorage.setItem("successMessage",e.data.message),t.push("/login"),c({})}).catch(function(e){var t=e.response,a=t.data.errors?t.data.errors:{};a.summary=t.data.message,c(Object(S.a)({},a,{errors:a}))})},onChange:function(e){var t=e.target,a=t.name,n=t.value;d(Object(S.a)({},m,Object(N.a)({},a,n)))},errors:l,user:m})},R=a(175),Q=a(169),P=a(176),Y=function(e){var t=e.secretData,a=e.user;return r.a.createElement(p.Card,{className:"container"},r.a.createElement(p.CardTitle,{title:"Dashboard",subtitle:""}),t&&r.a.createElement(p.CardText,{style:{fontSize:"16px",color:"green"}},"Welcome ",r.a.createElement("strong",null,a.name),"!",r.a.createElement("br",null),t))},_=(r.a.Component,a(174)),H=a(385),X=a(384),J=a(386),$=a(88),K=a.n($),V=(a(338),Object(E.a)(function(e){var t,a;return{root:{flexGrow:1},title:{padding:e.spacing(2),textAlign:"center",backgroundColor:"#23395d",color:"white",fontWeight:"800",fontFamily:"Constantia"},drugRes:{padding:"0",textAlign:"left",color:"black",fontWeight:"bold",fontSize:"14px",width:"auto",variant:"outlined",backgroundColor:"lightgreen",border:"0.1rem solid"},drugConflict:(t={padding:"0",textAlign:"left",color:"black",fontWeight:"bold",fontSize:"14px"},Object(N.a)(t,"padding","10px"),Object(N.a)(t,"variant","outlined"),Object(N.a)(t,"backgroundColor","lightgreen"),Object(N.a)(t,"border","0.1rem solid"),t),btn:{border:"2px solid seagreen",boxShadow:e.shadows[5],borderRadius:"30px",textAlign:"center",backgroundColor:"#23395d",color:"white",fontWeight:"400",align:"left",overflow:"auto",fontFamily:"Constantia"},gridBtn:{padding:"30px",overflow:"auto"},input:{width:"100%"},high:(a={backgroundColor:"#ff0000",textAlign:"center",overflow:"auto",padding:"10px",borderRadius:"30px"},Object(N.a)(a,"textAlign","center"),Object(N.a)(a,"color","black"),Object(N.a)(a,"fontWeight","400"),Object(N.a)(a,"fontFamily","Constantia"),Object(N.a)(a,"border","1.65mm ridge rgba(0, 0, 0, .8)"),a),deleteButton:{textAlign:"center",overflow:"auto",height:"30px",width:"30px"}}}));function Z(){var e=V(),t=Object(n.useState)({}),a=Object(i.a)(t,2),o=a[0],l=a[1],c=Object(n.useState)([]),s=Object(i.a)(c,2),u=s[0],m=s[1],d=Object(n.useState)([]),g=Object(i.a)(d,2),p=g[0],f=g[1],h=Object(n.useState)([]),b=Object(i.a)(h,2),E=b[0],x=b[1],y=function(e){B.getDrugsID(e).then(function(e){m([].concat(Object(_.a)(u),[{id:u.length,name:e.data.idGroup.name,rxcui:e.data.idGroup.rxnormId}]))}).catch(function(e){return console.log(e)})},k=function(){var e="",t=!0,a=!1,n=void 0;try{for(var r,o=u[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){e+=r.value.rxcui[0]+"+"}}catch(l){a=!0,n=l}finally{try{t||null==o.return||o.return()}finally{if(a)throw n}}B.getDrugsConflict(e).then(function(e){var t=e.data.fullInteractionTypeGroup[1].fullInteractionType,a={},n=e.data.fullInteractionTypeGroup[0].fullInteractionType,r={},o=(e.data.fullInteractionTypeGroup,[]),i=[],c=!0,s=!1,u=void 0;try{for(var m,d=t[Symbol.iterator]();!(c=(m=d.next()).done);c=!0){a=m.value.interactionPair[0].severity,o.push({id:t.length,threat:a})}}catch(l){s=!0,u=l}finally{try{c||null==d.return||d.return()}finally{if(s)throw u}}var g=!0,p=!1,h=void 0;try{for(var b,v=n[Symbol.iterator]();!(g=(b=v.next()).done);g=!0){r=b.value.interactionPair[0].description,i.push({id:n.length,description:r})}}catch(l){p=!0,h=l}finally{try{g||null==v.return||v.return()}finally{if(p)throw h}}f(o),x(i)}).catch(function(e){console.log(e)})},T=function(e){var t=e.target.getAttribute("name");m(u.filter(function(e){return e.name!==t}))};return r.a.createElement("div",{style:{overflowX:"hidden",overflowY:"hidden"}},r.a.createElement(X.a,{container:!0,spacing:12},r.a.createElement(X.a,{item:!0,xs:12,container:!0,direction:"column",justify:"center"},r.a.createElement("div",{className:e.title},r.a.createElement(w.a.div,{animate:{scale:[1,1.2,1,1.2,1]},transition:{duration:8,ease:"easeInOut",times:[0,.25,.5,.75,1],loop:1/0,repeatDelay:0}},r.a.createElement("h1",null,"Check Drug Interactions")))),r.a.createElement(X.a,{item:!0,xs:2}),r.a.createElement(X.a,{item:!0,xs:8},r.a.createElement("p",null,"Add two or more drugs to see their interactions.")),r.a.createElement(X.a,{item:!0,xs:2}),r.a.createElement(X.a,{item:!0,xs:2}),r.a.createElement(X.a,{item:!0,xs:5},r.a.createElement("div",{className:e.inputField},r.a.createElement(J.a,{id:"drugTextField",className:e.input,type:"text",label:"Enter drug name here",variant:"filled",onChange:function(e){return l(e.target.value.trim())}}))),r.a.createElement(X.a,{item:!0,xs:2},r.a.createElement("div",{className:e.inputField},r.a.createElement(v.a,{className:e.btn,type:"button",onClick:function(e){e.preventDefault(),y(o),document.getElementById("drugTextField").value="",document.getElementById("drugTextField").focus()},variant:"contained",color:"primary"},"Add Drug"))),r.a.createElement(X.a,{item:!0,xs:3}),r.a.createElement(X.a,{item:!0,xs:2}),r.a.createElement("div",null,r.a.createElement(X.a,{item:!0,xs:2}),u.length?r.a.createElement("div",null,u.map(function(t){return r.a.createElement(X.a,{container:!0,spacing:12},r.a.createElement(X.a,{item:!0,xs:10},r.a.createElement(H.a,{className:e.drugRes},r.a.createElement("h2",{key:t.id},"Name: ",t.name),r.a.createElement("h5",null,"RXCUI: ",t.rxcui))),r.a.createElement(X.a,{item:!0,xs:2},r.a.createElement(v.a,{style:{padding:"35px"},key:t.id,name:t.name,className:e.gridBtn,onClick:T,variant:"contained"},r.a.createElement(K.a,{className:e.deleteButton,key:t.id,name:t.name,onClick:T}))))})):r.a.createElement("h3",null,"No Drugs Added"))),r.a.createElement("div",null,r.a.createElement(X.a,{container:!0,spacing:12},r.a.createElement(X.a,{item:!0,xs:2}),r.a.createElement(X.a,{item:!0,xs:10},r.a.createElement(v.a,{className:e.btn,type:"button",onClick:function(e){e.preventDefault(),k()},variant:"contained",color:"primary"},"Submit for conflicts")),r.a.createElement(X.a,{item:!0,xs:2})),r.a.createElement("hr",null)),r.a.createElement(X.a,{item:!0,xs:12},r.a.createElement("div",null,E.length?r.a.createElement(X.a,{container:!0,spacing:12},r.a.createElement(X.a,{item:!0,xs:8},E.map(function(t){return r.a.createElement(H.a,{className:e.drugConflict},r.a.createElement("h3",{key:t.id},t.description))})),r.a.createElement(X.a,{item:!0,xs:4},p.map(function(t){return r.a.createElement(H.a,{className:e.high},r.a.createElement("h3",{key:t.id},"Severity: ",t.threat))}))):r.a.createElement("div",null,r.a.createElement("h3",null,"No Conflicts Found")))))}a(339);var ee=a(37),te=a.n(ee),ae=a(74),ne=a(388);function re(){return Math.round(20*Math.random())-10}function oe(){var e=50+re(),t=50+re();return{top:"".concat(e,"%"),left:"".concat(t,"%"),transform:"translate(-".concat(e,"%, -").concat(t,"%)")}}var le=Object(E.a)(function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},button:{border:"2px solid seagreen",boxShadow:e.shadows[5],width:"80%",height:"20%",borderRadius:"30px",textAlign:"center",backgroundColor:"#23395d"}}});function ie(e){var t=le(),a=r.a.useState(oe),n=Object(i.a)(a,1)[0];return r.a.createElement("div",null,r.a.createElement(w.a.div,{animate:{scale:[1,1.2,1,1.2,1]},transition:{duration:8,ease:"easeInOut",times:[0,.25,.5,.75,1],loop:1/0,repeatDelay:0}},r.a.createElement(v.a,{className:t.button,type:"button",onClick:e.handleOpen,variant:"contained",color:"primary"},"Add Drug")),r.a.createElement(ne.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:e.open,onClose:e.handleClose},r.a.createElement("div",{style:n,className:t.paper},r.a.createElement("h2",{id:"simple-modal-title"},"Please enter your drug routine:",r.a.createElement("br",null)),r.a.createElement("form",null,r.a.createElement(J.a,{name:"name",label:"Enter drug name here",variant:"filled",onChange:e.handleInputChange,fullWidth:!0}),r.a.createElement(J.a,{type:"text",label:"Last date taken? ex: '2020-11-30'",variant:"filled",name:"lastTakenDate",onChange:e.handleInputChange,fullWidth:!0}),r.a.createElement(J.a,{type:"text",label:"Last time taken? (military time) ex: '18:30'",variant:"filled",name:"lastTakenTime",onChange:e.handleInputChange,fullWidth:!0}),r.a.createElement(J.a,{type:"text",label:"Intake frequency? (in hours) ex: '4'",variant:"filled",name:"frequency",onChange:e.handleInputChange,fullWidth:!0}),r.a.createElement("br",null),r.a.createElement("hr",null),r.a.createElement(v.a,{variant:"contained",color:"primary",onClick:e.handleFormSubmit},"Submit")))))}var ce=a(173),se=a.n(ce),ue=a(53),me=a(389),de=a(64),ge=function(e){var t=Object(E.a)(function(e){return{root:{flexGrow:1},quarterOne:{backgroundColor:"white"},quarterTwo:{backgroundColor:"lightgreen"},quarterThree:{backgroundColor:"yellow"},quarterFour:{backgroundColor:"white"},eatNow:{backgroundColor:"red"},foo:function(e){return{backgroundColor:e.backgroundColor}},addDrug:{padding:e.spacing(2),textAlign:"center",backgroundColor:"black",color:"white",fontWeight:"900",align:"left"},pillGrid2:{textAlign:"left",color:de.black,fontWeight:"bold",fontSize:"14px",width:"20.5%"},pillGridCell:{textAlign:"left",color:de.black,fontWeight:"bold",fontSize:"14px",width:"20.5%"}}}),a="quarterOne"===e.currentQuarter?{backgroundColor:"white"}:"quarterTwo"===e.currentQuarter?{backgroundColor:"green"}:"quarterThree"===e.currentQuarter?{backgroundColor:"yellow"}:"quarterFour"===e.currentQuarter?{backgroundColor:"orange"}:"eatNow"===e.currentQuarter?{backgroundColor:"red"}:void 0;console.log(a);var n=t(a);return r.a.createElement("div",{style:{overflow:"hidden"}},r.a.createElement(w.a.div,{initial:"hidden",animate:"visible",variants:{hidden:{opacity:0,scale:0},visible:{opacity:1,scale:1}},transition:{ease:"easeOut",duration:2}},r.a.createElement(w.a.div,{animate:{scale:[1,1.5,1.5,1,1],rotate:[0,0,0,0,0]},transition:{duration:2,ease:"easeOut",times:[0,0,0,.6,1],loop:0,repeatDelay:0}},r.a.createElement(ue.TableRow,{className:"".concat(n.pillGrid3," ").concat(n.foo)},r.a.createElement(me.a,{className:n.pillGrid2},e.name),r.a.createElement(me.a,{className:n.pillGrid2},e.lastTakenDate),r.a.createElement(me.a,{className:n.pillGrid2},e.lastTakenTime),r.a.createElement(me.a,{className:n.pillGrid2},e.frequency),r.a.createElement(me.a,{className:n.pillGrid2},r.a.createElement(v.a,{variant:"contained"},r.a.createElement(K.a,{onClick:function(){return e.handleDrugRemove(e.id)}}))),r.a.createElement(me.a,{className:n.pillGridCell},r.a.createElement(v.a,{variant:"contained"},r.a.createElement(se.a,{onClick:function(){return e.handleDrugTaken(e.id)}})))))))},pe=a(352),fe=Object(E.a)(function(e){var t;return{root:{flexGrow:1},addDrug:(t={padding:e.spacing(2),textAlign:"center",color:e.palette.text.primary,backgroundColor:"seagreen"},Object(N.a)(t,"color","white"),Object(N.a)(t,"fontWeight","900"),Object(N.a)(t,"align","left"),Object(N.a)(t,"overflow","auto"),Object(N.a)(t,"fontFamily","Comic Sans MS, Comic Sans, cursive"),t),title:{padding:e.spacing(2),textAlign:"center",backgroundColor:"#23395d",color:"white",fontWeight:"800",fontSize:"30px",fontFamily:"Constantia"},titleText:{textAlign:"center",color:"white",fontWeight:"800",fontSize:"30px",fontFamily:"Constantia"},title2:{padding:e.spacing(2),textAlign:"center",backgroundColor:"#23395d",color:"white",fontWeight:"800",fontSize:"30px",fontFamily:"Constantia",margin:"5%",marginBottom:"0"},title3:{padding:e.spacing(2),textAlign:"center",color:"white",fontWeight:"800",fontSize:"30px",fontFamily:"Constantia"},pillGrid2:{textAlign:"left",color:"midnightblue",fontWeight:"bold",fontSize:"14px",width:"20%"},removeCheckbox:{displayRowCheckbox:"false"},modal:{}}});function he(){var e=fe(),t=Object(n.useState)({}),a=Object(i.a)(t,2),o=a[0],l=a[1],c=Object(n.useState)({}),s=Object(i.a)(c,2),u=s[0],m=s[1],d=Object(n.useState)(!1),g=Object(i.a)(d,2),p=g[0],f=g[1],h=Object(n.useState)([]),v=Object(i.a)(h,2),E=v[0],x=v[1],y=Object(n.useState)(""),k=Object(i.a)(y,2),T=k[0],O=k[1],C=Object(n.useState)([]),j=Object(i.a)(C,2),D=j[0],A=j[1],I=function(){f(!1)};Object(n.useEffect)(function(){(function(){var e=Object(ae.a)(te.a.mark(function e(){var t,a,n;return te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.dashboard(b.getToken());case 2:return t=e.sent,l(t.data.user),console.log(t),e.next=7,B.getAllUserDrugs(t.data.user._id,b.getToken());case 7:return a=e.sent,console.log(a),x(a.data),B.saveDrugtoUser(t.data,b.getToken()).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)}),e.next=13,L(a.data);case 13:n=e.sent,A(n);case 15:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}})()()},[T]);var W=function(e){B.removeDrug(e,b.getToken()).then(function(e){O(E.length)}).catch(function(e){return console.log(e)})},q=0,z=function(e){var t=pe().format().split("T"),a=t[0],n=t[1].split(":"),r="".concat(n[0],":").concat(n[1]);B.drugTaken(e,{lastTakenDate:a,lastTakenTime:r},b.getToken()).then(function(e){O(q++)}).catch(function(e){return console.log(e)})},G=function(){var e=Object(ae.a)(te.a.mark(function e(t){var a,n;return te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.map(function(e){return{id:e._id,combinedTime:"".concat(e.lastTakenDate," ").concat(e.lastTakenTime),frequency:parseInt(e.frequency)}});case 2:return a=e.sent,console.log(a),e.next=6,a.map(function(e){return{id:e.id,prediction:M(e.combinedTime,e.frequency)}});case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(ae.a)(te.a.mark(function e(t){var a,n,r;return te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=pe().format("YYYY-MM-DD hh:mm a"),e.next=3,G(t);case 3:return n=e.sent,console.log("Current time: ",a),console.log(n),e.next=8,n.map(function(e){var t=pe(a).isBefore(e.prediction[0]),n=pe(a).isBetween(e.prediction[0],e.prediction[1],"minutes","[)"),r=pe(a).isBetween(e.prediction[1],e.prediction[2],"minutes","[)"),o=pe(a).isBetween(e.prediction[2],e.prediction[3],"minutes","[)"),l=pe(a).isBetween(e.prediction[3],a,"minutes","[]");return console.log(e.id),console.log("Quarter 1 Met: ",t),console.log("Quarter 2 Met: ",n),console.log("Quarter 3 Met: ",r),console.log("Quarter 4 Met: ",o),t?"quarterOne":n?"quarterTwo":r?"quarterThree":o?"quarterFour":l?"eatNow":void 0});case 8:return r=e.sent,e.abrupt("return",r);case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(ae.a)(te.a.mark(function e(t){var a;return te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,F(t).then(function(e){a=t.map(function(t,a){return Object(S.a)({},t,{currentQuarter:e[a]})})}).catch(function(e){return console.log(e)});case 3:return console.log("FINALLLLL: ",a),e.abrupt("return",a);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),M=function(e,t){var a=R(t/4);console.log(a);var n=[],r=U(e,a);console.log("First Q: ",typeof r),n.push(r);var o=U(r,a);console.log("Added min 2: ",o),n.push(o);var l=U(o,a);console.log("Added min 3: ",l),n.push(l);var i=U(l,a);return console.log("Take now: ",i),n.push(i),console.log("Future Prediction :",n),n},U=function(e,t){return pe(e).add(t,"minutes").format("YYYY-MM-DD hh:mm a")},R=function(e){var t=60*(e-Math.floor(e));return 60*Math.floor(e)+t};return r.a.createElement("div",{className:e.root,style:{overflowX:"hidden",overflowY:"hidden"}},r.a.createElement(X.a,{container:!0,spacing:2},r.a.createElement(X.a,{item:!0,xs:12,className:e.title2},r.a.createElement(w.a.div,{animate:{scale:[1,1.2,1,1.2,1]},transition:{duration:8,ease:"easeInOut",times:[0,.25,.5,.75,1],loop:1/0,repeatDelay:0}},r.a.createElement("p",{className:e.titleText},"My Pills Tracker")),r.a.createElement(ue.Table,null,r.a.createElement(ue.TableBody,{displayRowCheckbox:!1},r.a.createElement(ue.TableRow,null,r.a.createElement(ue.TableRow,null,r.a.createElement(me.a,{className:e.pillGrid2},"Pill Name"),r.a.createElement(me.a,{className:e.pillGrid2},"Last Date"),r.a.createElement(me.a,{className:e.pillGrid2},"Last Time"),r.a.createElement(me.a,{className:e.pillGrid2},"Frequency (hours)"),r.a.createElement(me.a,{className:e.pillGrid2},"Delete?"),r.a.createElement(me.a,{className:e.pillGrid2},"Take Pill")),D.map(function(e){return r.a.createElement(ge,{id:e._id,key:e._id,name:e.name,frequency:e.frequency,lastTakenDate:e.lastTakenDate,lastTakenTime:e.lastTakenTime,handleDrugRemove:W,handleDrugTaken:z,currentQuarter:e.currentQuarter})}))))),r.a.createElement(X.a,{item:!0,xs:3,className:e.title3},r.a.createElement(ie,{className:e.modal,name:"Drug 1",user_id:o._id,handleInputChange:function(e){var t=e.target,a=t.name,n=t.value;m(Object(S.a)({},u,Object(N.a)({},a,n))),console.log(u)},handleFormSubmit:function(e){if(e.preventDefault(),console.log("Drug Details: ",u.lastTakenDate,u.lastTakenTime,u.frequency),u.lastTakenDate&&u.frequency&&u.lastTakenTime){if(console.log("before API front end"),console.log("current user, ",o._id),isNaN(u.frequency))return alert("Must input a number for how often the drug should be taken."),!1;B.saveDrug({name:u.name,lastTakenDate:u.lastTakenDate,lastTakenTime:u.lastTakenTime,frequency:parseInt(u.frequency),user:o._id},b.getToken()).then(function(e){console.log(e),O(E.length+5)}).then(function(e){return I()}).catch(function(e){return console.log(e)})}},handleOpen:function(){f(!0)},handleClose:I,open:p})),r.a.createElement(X.a,{item:!0,xs:4})),r.a.createElement("div",{style:{marginTop:"0px",marginBottom:"40px"}}," "))}var be=a(75),ve=a.n(be),Ee=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],o=t[1];Object(n.useEffect)(function(){l()},[]);var l=function(){o(b.isUserAuthenticated())};return r.a.createElement("div",{className:"body",style:{height:"100vh"}},r.a.createElement(m.a,{muiTheme:s()()},r.a.createElement(d.a,null,r.a.createElement("div",{className:"appBar"},a?r.a.createElement("div",null,r.a.createElement(w.a.div,{initial:"hidden",animate:"visible",variants:{hidden:{opacity:0,scale:0},visible:{opacity:1,scale:1}},transition:{ease:"easeOut",duration:2}},r.a.createElement("img",{src:ve.a,className:"navTitle",alt:"Druggler Icon",height:"30px",width:"50px",style:{margin:"0px",marginTop:"20px"}}),r.a.createElement("div",{className:"navTitle",style:{margin:"0px"}},"Druggler"),r.a.createElement("img",{src:ve.a,className:"navTitle",alt:"Druggler Icon",height:"30px",width:"50px",style:{margin:"0px",marginTop:"20px"}}),r.a.createElement(w.a.div,{whileHover:{y:4}},r.a.createElement(d.b,{className:"navButton",to:"/logout",color:"error"}," ","Log out"," ")),r.a.createElement(w.a.div,{whileHover:{y:4}},r.a.createElement(d.b,{className:"navButton",to:"/dashboard"}," ","My Pills"," ")),r.a.createElement(w.a.div,{whileHover:{y:4}},r.a.createElement(d.b,{className:"navButton",to:"/interactions"}," ","Interactions"," ")))):r.a.createElement("div",null,r.a.createElement("img",{src:ve.a,className:"navTitle",alt:"Druggler Icon",height:"30px",width:"50px",style:{marginTop:"20px"}}),r.a.createElement("div",{className:"navTitle"},"Druggler"),r.a.createElement("img",{src:ve.a,className:"navTitle",alt:"Druggler Icon",height:"30px",width:"50px",style:{marginTop:"20px"}}))),r.a.createElement(j,{exact:!0,path:"/",component:k,toggleAuthenticateStatus:l}),r.a.createElement(O,{path:"/dashboard",component:he}),r.a.createElement(O,{path:"/interactions",component:Z}),r.a.createElement(C,{path:"/login",component:F,toggleAuthenticateStatus:l}),r.a.createElement(C,{path:"/signup",component:U}),r.a.createElement(g.b,{path:"/logout",component:L}))))},xe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ye(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}l.a.render(r.a.createElement(Ee,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");xe?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):ye(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):ye(e)})}}()},75:function(e,t,a){e.exports=a.p+"static/media/pillsIcon.c235a917.png"}},[[184,1,2]]]);
//# sourceMappingURL=main.17564f07.chunk.js.map